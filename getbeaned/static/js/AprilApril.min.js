var AprilApril=function(e){if("object"==typeof e){this.effects={};for(var t in e)e[t]&&this.effectTypes[t]&&(this.effects[t]=e[t])}else{if(!(e in this.effectTypes))throw new Error("Effect name not recognized.");this.effect=e}},injectCSS=function(e,t,n){var r=document.body,o=document.createElement("style"),a=["webkitAnimation","MozAnimation","OAnimation","MSAnimation","animation"];o.type="text/css",o.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(o);for(var i=0;i<a.length;i++)[a[i]+"Duration"]in r.style&&(r.style[a[i]+"Duration"]=t,r.style[a[i]+"FillMode"]="forwards",r.style[a[i]+"Name"]=n)};AprilApril.prototype.effectTypes={scrambleText:function(){var e=1e3,t=Array.prototype.slice.call(document.querySelectorAll("p")),n=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},r=function(){var e=t[Math.round(Math.random()*(t.length-1))],r=e.textContent.split(/\s/);n(e)||(e.textContent=o(r).join(" "))},o=function(e){var t=Math.round(Math.random()*(e.length-1)),n=Math.round(Math.random()*(e.length-1)),r=e[t];return e[t]=e[n],e[n]=r,e};setInterval(r,e)},scrambleLinks:function(){for(var e=Array.prototype.slice.call(document.links),t=[],n=function(e){var t=Math.round(Math.random()*(e.length-1)),n=e[t];return e.splice(t,1),n},r=0,o=e.length;o>r;r++){var a=e[r].href;a!==window.location.href+"#"&&a.match(/http/)&&t.push(a)}for(var r=0,o=e.length;o>r;r++){var a=e[r].href;a!==window.location.href+"#"&&a.match(/http/)&&(e[r].href=n(t))}},shrink:function(){var e="3600s",t="@-webkit-keyframes shrink {100%{-webkit-transform: scale(.7);}}@-moz-keyframes shrink {100%{-moz-transform: scale(.7);}}@-o-keyframes shrink {100%{-o-transform: scale(.7);}}@keyframes shrink {100%{transform: scale(.7);}}";injectCSS(t,e,"shrink")},rotate:function(){var e="3600s",t="@-webkit-keyframes rotate {100%{-webkit-transform: rotateZ(90deg);}}@-moz-keyframes rotate {100%{-moz-transform: rotateZ(90deg);}}@-o-keyframes rotate {100%{-o-transform: rotateZ(90deg);}}@keyframes rotate {100%{transform: rotateZ(90deg);}}";injectCSS(t,e,"rotate")},replaceImages:function(){for(var e=document.querySelectorAll("img"),t=["http://placekitten.com/","http://www.fillmurray.com/","http://www.nicenicejpg.com/","http://www.placecage.com/","http://www.stevensegallery.com/"],n=0,r=e.length;r>n;n++){var o=e[n],a=o.naturalWidth||o.clientWidth,i=o.naturalHeight||o.clientHeight;o.src=t[Math.round(Math.random()*(t.length-1))]+a+"/"+i}},sayPlease:function(){for(var e=Array.prototype.slice.call(document.links),t=["Say please.","My goodness, where are your manners? Say please.","Just say please. I can do this all day.","You're really not going to say it, are you?","OK, now you're just testing how many of these there are.","This is the last one. Say please."],n=0,r=0,o=e.length;o>r;r++){var a=e[r];a.addEventListener("click",function(e){e.preventDefault();var r=window.prompt(t[n]);r&&"please"===r.toLowerCase()?window.location=this.href:n<t.length-1?n++:n=0},!1)}}},AprilApril.prototype.applyEffect=function(e){this.effectTypes[e].call()},AprilApril.prototype.fool=function(){if(this.effects)for(var e in this.effects)this.applyEffect(e);else this.applyEffect(this.effect)};